{% extends "base.html" %}
{% block content %}
<div class="py-3">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h2 class="ep-section-title mb-0">My proposed classes</h2>
    <a class="btn btn-outline-secondary" href="{% url 'classes:list' %}">Back to Classes</a>
  </div>
  <div class="ep-card p-0">
    <table class="table table-hover mb-0 align-middle ep-table">
      <thead>
        <tr><th>Name</th><th>Year</th><th>Status</th><th>Submitted</th></tr>
      </thead>
      <tbody>
        {% for p in proposals %}
          <tr>
            <td class="fw-medium">{{ p.name }}</td>
            <td>Year {{ p.year }}</td>
            <td>
              {% if p.status == 'P' %}<span class="badge bg-warning">Pending</span>
              {% elif p.status == 'A' %}<span class="badge bg-success">Approved</span>
              {% else %}<span class="badge bg-danger">Rejected</span>{% endif %}
            </td>
            <td class="text-muted">{{ p.created_at|date:"M d, Y" }}</td>
          </tr>
        {% empty %}
          <tr><td colspan="4" class="text-center py-4 ep-empty">No proposals yet. Start by proposing your first class!</td></tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
{% endblock %}
